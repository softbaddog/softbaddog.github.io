<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>步骤7：设计后台 RESTful API 接口，服务绑定到 MongoDB 数据库 | Huawei LiteOS | 中文网</title>
    <meta name="description" content="轻量级物联网操作系统，物的智能化使能平台">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/styles.d2f7ed44.css" as="style"><link rel="preload" href="/assets/js/app.d2f7ed44.js" as="script"><link rel="preload" href="/assets/js/125.1f3271e7.js" as="script"><link rel="prefetch" href="/assets/css/1.styles.74193471.css"><link rel="prefetch" href="/assets/js/1.74193471.js"><link rel="prefetch" href="/assets/css/2.styles.9e4108f9.css"><link rel="prefetch" href="/assets/js/2.9e4108f9.js"><link rel="prefetch" href="/assets/js/3.00d2e81f.js"><link rel="prefetch" href="/assets/js/4.d9165f93.js"><link rel="prefetch" href="/assets/js/5.c702d309.js"><link rel="prefetch" href="/assets/js/6.abdb9c68.js"><link rel="prefetch" href="/assets/js/7.c48b9a2e.js"><link rel="prefetch" href="/assets/js/8.b8af3aed.js"><link rel="prefetch" href="/assets/js/9.5a9a69b9.js"><link rel="prefetch" href="/assets/js/10.3043005d.js"><link rel="prefetch" href="/assets/js/11.20ae95ff.js"><link rel="prefetch" href="/assets/js/12.da171e2f.js"><link rel="prefetch" href="/assets/js/13.6e5e00b3.js"><link rel="prefetch" href="/assets/js/14.98c98176.js"><link rel="prefetch" href="/assets/js/15.cafbe942.js"><link rel="prefetch" href="/assets/js/16.4e81fc5d.js"><link rel="prefetch" href="/assets/js/17.a2de738d.js"><link rel="prefetch" href="/assets/js/18.1f00b4ed.js"><link rel="prefetch" href="/assets/js/19.bdaf185c.js"><link rel="prefetch" href="/assets/js/20.dbff124f.js"><link rel="prefetch" href="/assets/js/21.38996d62.js"><link rel="prefetch" href="/assets/js/22.1b4ae143.js"><link rel="prefetch" href="/assets/js/23.4e4496e3.js"><link rel="prefetch" href="/assets/js/24.167916ef.js"><link rel="prefetch" href="/assets/js/25.0933765a.js"><link rel="prefetch" href="/assets/js/26.1b559c62.js"><link rel="prefetch" href="/assets/js/27.5d60b7a5.js"><link rel="prefetch" href="/assets/js/28.231c5754.js"><link rel="prefetch" href="/assets/js/29.03e3f815.js"><link rel="prefetch" href="/assets/js/30.fbfc88f1.js"><link rel="prefetch" href="/assets/js/31.5ff7cfcb.js"><link rel="prefetch" href="/assets/js/32.e16fa6d3.js"><link rel="prefetch" href="/assets/js/33.3de4af60.js"><link rel="prefetch" href="/assets/js/34.b2d40b7b.js"><link rel="prefetch" href="/assets/js/35.94f8023d.js"><link rel="prefetch" href="/assets/js/36.dbebfd32.js"><link rel="prefetch" href="/assets/js/37.4957c528.js"><link rel="prefetch" href="/assets/js/38.3f6f010d.js"><link rel="prefetch" href="/assets/js/39.6257b6a8.js"><link rel="prefetch" href="/assets/js/40.e6671e62.js"><link rel="prefetch" href="/assets/js/41.72ff4436.js"><link rel="prefetch" href="/assets/js/42.e07baaa7.js"><link rel="prefetch" href="/assets/js/43.96e44ef3.js"><link rel="prefetch" href="/assets/js/44.6327767e.js"><link rel="prefetch" href="/assets/js/45.71c30aa6.js"><link rel="prefetch" href="/assets/js/46.de092141.js"><link rel="prefetch" href="/assets/js/47.9801ae43.js"><link rel="prefetch" href="/assets/js/48.3cec44ed.js"><link rel="prefetch" href="/assets/js/49.21b82d30.js"><link rel="prefetch" href="/assets/js/50.41115d1e.js"><link rel="prefetch" href="/assets/js/51.955d8f52.js"><link rel="prefetch" href="/assets/js/52.5eff4de3.js"><link rel="prefetch" href="/assets/js/53.16bfdcc7.js"><link rel="prefetch" href="/assets/js/54.8d5a61c2.js"><link rel="prefetch" href="/assets/js/55.734ae693.js"><link rel="prefetch" href="/assets/js/56.176d0698.js"><link rel="prefetch" href="/assets/js/57.1a7efef7.js"><link rel="prefetch" href="/assets/js/58.e2e7c45b.js"><link rel="prefetch" href="/assets/js/59.22a86617.js"><link rel="prefetch" href="/assets/js/60.012a8039.js"><link rel="prefetch" href="/assets/js/61.0213d131.js"><link rel="prefetch" href="/assets/js/62.8915065c.js"><link rel="prefetch" href="/assets/js/63.6aced2b4.js"><link rel="prefetch" href="/assets/js/64.07392893.js"><link rel="prefetch" href="/assets/js/65.fda008aa.js"><link rel="prefetch" href="/assets/js/66.3f9ef468.js"><link rel="prefetch" href="/assets/js/67.80888707.js"><link rel="prefetch" href="/assets/js/68.5d46a69e.js"><link rel="prefetch" href="/assets/js/69.02ff4d5f.js"><link rel="prefetch" href="/assets/js/70.603a6791.js"><link rel="prefetch" href="/assets/js/71.a04dd74c.js"><link rel="prefetch" href="/assets/js/72.cb525313.js"><link rel="prefetch" href="/assets/js/73.f7c72a7b.js"><link rel="prefetch" href="/assets/js/74.058b9009.js"><link rel="prefetch" href="/assets/js/75.941c6081.js"><link rel="prefetch" href="/assets/js/76.8058eedc.js"><link rel="prefetch" href="/assets/js/77.046261f7.js"><link rel="prefetch" href="/assets/js/78.50ec362f.js"><link rel="prefetch" href="/assets/js/79.714ac91c.js"><link rel="prefetch" href="/assets/js/80.efb8088f.js"><link rel="prefetch" href="/assets/js/81.8782a080.js"><link rel="prefetch" href="/assets/js/82.ed04d225.js"><link rel="prefetch" href="/assets/js/83.ea66a7fa.js"><link rel="prefetch" href="/assets/js/84.d58317ea.js"><link rel="prefetch" href="/assets/js/85.45da5b8e.js"><link rel="prefetch" href="/assets/js/86.f09ec09c.js"><link rel="prefetch" href="/assets/js/87.04d34f4b.js"><link rel="prefetch" href="/assets/js/88.a208173b.js"><link rel="prefetch" href="/assets/js/89.5b4341ea.js"><link rel="prefetch" href="/assets/js/90.39676ae5.js"><link rel="prefetch" href="/assets/js/91.fab6ba89.js"><link rel="prefetch" href="/assets/js/92.f60ee17f.js"><link rel="prefetch" href="/assets/js/93.08e1a22f.js"><link rel="prefetch" href="/assets/js/94.9aa6ce3b.js"><link rel="prefetch" href="/assets/js/95.ddaf81b8.js"><link rel="prefetch" href="/assets/js/96.9a881835.js"><link rel="prefetch" href="/assets/js/97.9ada6d08.js"><link rel="prefetch" href="/assets/js/98.b42a347b.js"><link rel="prefetch" href="/assets/js/99.c5eaaa7f.js"><link rel="prefetch" href="/assets/js/100.336d27b7.js"><link rel="prefetch" href="/assets/js/101.e652f3f1.js"><link rel="prefetch" href="/assets/js/102.9d0106c1.js"><link rel="prefetch" href="/assets/js/103.52d7e0a9.js"><link rel="prefetch" href="/assets/js/104.6713cf74.js"><link rel="prefetch" href="/assets/js/105.76026e8f.js"><link rel="prefetch" href="/assets/js/106.8745239b.js"><link rel="prefetch" href="/assets/js/107.388219f5.js"><link rel="prefetch" href="/assets/js/108.229ddde0.js"><link rel="prefetch" href="/assets/js/109.35ae688d.js"><link rel="prefetch" href="/assets/js/110.00f94a9b.js"><link rel="prefetch" href="/assets/js/111.f672bfa2.js"><link rel="prefetch" href="/assets/js/112.2c842d2d.js"><link rel="prefetch" href="/assets/js/113.16ea21f4.js"><link rel="prefetch" href="/assets/js/114.046bdf03.js"><link rel="prefetch" href="/assets/js/115.c159371a.js"><link rel="prefetch" href="/assets/js/116.496bbc50.js"><link rel="prefetch" href="/assets/js/117.ef062454.js"><link rel="prefetch" href="/assets/js/118.a0609718.js"><link rel="prefetch" href="/assets/js/119.90c89d87.js"><link rel="prefetch" href="/assets/js/120.e8529972.js"><link rel="prefetch" href="/assets/js/121.d3966ee7.js"><link rel="prefetch" href="/assets/js/122.678ec60d.js"><link rel="prefetch" href="/assets/js/123.3b9803c9.js"><link rel="prefetch" href="/assets/js/124.95520141.js"><link rel="prefetch" href="/assets/js/126.29e1a314.js"><link rel="prefetch" href="/assets/js/127.6837657c.js"><link rel="prefetch" href="/assets/js/128.1b1e9270.js"><link rel="prefetch" href="/assets/js/129.5769d786.js"><link rel="prefetch" href="/assets/js/130.f831bb40.js"><link rel="prefetch" href="/assets/js/131.f55596db.js"><link rel="prefetch" href="/assets/js/132.0e05ecea.js"><link rel="prefetch" href="/assets/js/133.e270b947.js"><link rel="prefetch" href="/assets/js/134.d73ce062.js"><link rel="prefetch" href="/assets/js/135.1485a56c.js"><link rel="prefetch" href="/assets/js/136.980b8376.js"><link rel="prefetch" href="/assets/js/137.ecbdf020.js"><link rel="prefetch" href="/assets/js/138.4288ffa5.js"><link rel="prefetch" href="/assets/js/139.6cd6ab0f.js"><link rel="prefetch" href="/assets/js/140.cc6e31bf.js"><link rel="prefetch" href="/assets/js/141.768d236c.js"><link rel="prefetch" href="/assets/js/142.0ee28ac3.js"><link rel="prefetch" href="/assets/js/143.f48f9b59.js"><link rel="prefetch" href="/assets/js/144.fec50a15.js"><link rel="prefetch" href="/assets/js/145.dda14819.js"><link rel="prefetch" href="/assets/js/146.f4d318ce.js"><link rel="prefetch" href="/assets/js/147.b14631c5.js"><link rel="prefetch" href="/assets/js/148.1f807ff7.js"><link rel="prefetch" href="/assets/js/149.b6d00844.js"><link rel="prefetch" href="/assets/js/150.5ee1c0cc.js"><link rel="prefetch" href="/assets/js/151.1c27c778.js"><link rel="prefetch" href="/assets/css/152.styles.f6a7d50e.css"><link rel="prefetch" href="/assets/js/vendors~docsearch.f6a7d50e.js">
    <link rel="stylesheet" href="/assets/css/styles.d2f7ed44.css"><link rel="stylesheet" href="/assets/css/1.styles.74193471.css"><link rel="stylesheet" href="/assets/css/2.styles.9e4108f9.css"><link rel="stylesheet" href="/assets/css/152.styles.f6a7d50e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Huawei LiteOS | 中文网</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">学习</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>入门</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/quick-start/intro/" class="nav-link">快速上手</a></li><li class="dropdown-subitem"><a href="/quick-start/contrb/" class="nav-link">参与贡献</a></li></ul></li><li class="dropdown-item"><h4>进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/kernel/" class="nav-link">内核指南</a></li><li class="dropdown-subitem"><a href="/sdk/" class="nav-link">SDK 指南</a></li></ul></li><li class="dropdown-item"><h4>高级</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/porting/" class="nav-link">移植手册</a></li><li class="dropdown-subitem"><a href="http://liteos.github.io/api-reference/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API 参考
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">实战</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>LiteOS 动手实验室</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorials/kernel/" class="nav-link">玩转 LiteOS 内核教程</a></li><li class="dropdown-subitem"><a href="/tutorials/scene/" class="nav-link">LiteOS@NB-IoT 场景化样例集</a></li></ul></li><li class="dropdown-item"><h4>零基础端到端开发</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/step-by-step/nb-iot/" class="nav-link router-link-active">NB-IoT 手把手教程（移远 BC95/BC35)</a></li><li class="dropdown-subitem"><a href="/step-by-step/esp8266/" class="nav-link">WiFi 手把手教程（安信可 ESP8266)</a></li></ul></li><li class="dropdown-item"><h4>在线精品课程</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://developer.huawei.com/ict/cn/edu-online/site-iot-nb-01" target="_blank" rel="noopener noreferrer" class="nav-link external">
  朱老师物联网大讲堂 NB-IoT 系列课程
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://developer.huawei.com/ict/cn/edu-online/site-iot-nb-002" target="_blank" rel="noopener noreferrer" class="nav-link external">
  物联网俱乐部 NB-IoT 系列课程
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">生态</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>对接云平台</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/connect-to-cloud/huaweicloud/" class="nav-link">华为公有云 IoT 平台</a></li><li class="dropdown-subitem"><a href="/connect-to-cloud/ctyun/" class="nav-link">中国电信天翼云平台</a></li><li class="dropdown-subitem"><a href="/connect-to-cloud/onenet/" class="nav-link">中国移动 OneNET 平台</a></li></ul></li><li class="dropdown-item"><h4>OpenCPU</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/opencpu/public.html" class="nav-link">LiteOS Boudica150 OpenCPU（公版）</a></li><li class="dropdown-subitem"><a href="/opencpu/quectel.html" class="nav-link">Quectel BC35/28 OpenCPU</a></li></ul></li><li class="dropdown-item"><h4>其他编程语言</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/3rd-lang/maplejs.html" class="nav-link">MapleJS 引擎（JavaScript）</a></li><li class="dropdown-subitem"><a href="/3rd-lang/tiyun-java.html" class="nav-link">钛云物联 All-in-Java</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">活动</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>HUAWEI CONNECT 2018</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hc2018/products/" class="nav-link">产品展示</a></li><li class="dropdown-subitem"><a href="/hc2018/experience/" class="nav-link">动手体验</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://developer.huawei.com/ict/forum/forum.php?mod=forumdisplay&amp;fid=400045" target="_blank" rel="noopener noreferrer" class="nav-link external">
  论坛
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/changelog.html" class="nav-link">修订记录</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">切换语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/step-by-step/nb-iot/07-build-a-restful-server-with-device-management.html" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">English</a></li></ul></div></div> <a href="https://github.com/LiteOS/LiteOS_Documents" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">学习</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>入门</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/quick-start/intro/" class="nav-link">快速上手</a></li><li class="dropdown-subitem"><a href="/quick-start/contrb/" class="nav-link">参与贡献</a></li></ul></li><li class="dropdown-item"><h4>进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/kernel/" class="nav-link">内核指南</a></li><li class="dropdown-subitem"><a href="/sdk/" class="nav-link">SDK 指南</a></li></ul></li><li class="dropdown-item"><h4>高级</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/porting/" class="nav-link">移植手册</a></li><li class="dropdown-subitem"><a href="http://liteos.github.io/api-reference/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API 参考
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">实战</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>LiteOS 动手实验室</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tutorials/kernel/" class="nav-link">玩转 LiteOS 内核教程</a></li><li class="dropdown-subitem"><a href="/tutorials/scene/" class="nav-link">LiteOS@NB-IoT 场景化样例集</a></li></ul></li><li class="dropdown-item"><h4>零基础端到端开发</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/step-by-step/nb-iot/" class="nav-link router-link-active">NB-IoT 手把手教程（移远 BC95/BC35)</a></li><li class="dropdown-subitem"><a href="/step-by-step/esp8266/" class="nav-link">WiFi 手把手教程（安信可 ESP8266)</a></li></ul></li><li class="dropdown-item"><h4>在线精品课程</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://developer.huawei.com/ict/cn/edu-online/site-iot-nb-01" target="_blank" rel="noopener noreferrer" class="nav-link external">
  朱老师物联网大讲堂 NB-IoT 系列课程
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://developer.huawei.com/ict/cn/edu-online/site-iot-nb-002" target="_blank" rel="noopener noreferrer" class="nav-link external">
  物联网俱乐部 NB-IoT 系列课程
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">生态</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>对接云平台</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/connect-to-cloud/huaweicloud/" class="nav-link">华为公有云 IoT 平台</a></li><li class="dropdown-subitem"><a href="/connect-to-cloud/ctyun/" class="nav-link">中国电信天翼云平台</a></li><li class="dropdown-subitem"><a href="/connect-to-cloud/onenet/" class="nav-link">中国移动 OneNET 平台</a></li></ul></li><li class="dropdown-item"><h4>OpenCPU</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/opencpu/public.html" class="nav-link">LiteOS Boudica150 OpenCPU（公版）</a></li><li class="dropdown-subitem"><a href="/opencpu/quectel.html" class="nav-link">Quectel BC35/28 OpenCPU</a></li></ul></li><li class="dropdown-item"><h4>其他编程语言</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/3rd-lang/maplejs.html" class="nav-link">MapleJS 引擎（JavaScript）</a></li><li class="dropdown-subitem"><a href="/3rd-lang/tiyun-java.html" class="nav-link">钛云物联 All-in-Java</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">活动</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>HUAWEI CONNECT 2018</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/hc2018/products/" class="nav-link">产品展示</a></li><li class="dropdown-subitem"><a href="/hc2018/experience/" class="nav-link">动手体验</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://developer.huawei.com/ict/forum/forum.php?mod=forumdisplay&amp;fid=400045" target="_blank" rel="noopener noreferrer" class="nav-link external">
  论坛
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/changelog.html" class="nav-link">修订记录</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">切换语言</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/step-by-step/nb-iot/07-build-a-restful-server-with-device-management.html" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/" class="nav-link">English</a></li></ul></div></div> <a href="https://github.com/LiteOS/LiteOS_Documents" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/step-by-step/nb-iot/" class="sidebar-link">NB-IoT 手把手教程（含北向应用）</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>钛比 NB-IoT 开发板</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/step-by-step/nb-iot/01-inspect-terabits-board.html" class="sidebar-link">步骤1：安装传感器，调试器等外设，对 NB-IoT 开发板进行自检</a></li><li><a href="/step-by-step/nb-iot/02-build-f103vc-project-in-stm32cube.html" class="sidebar-link">步骤2：学习 STM32Cube 工具创建裸机工程，实现按键控制功能</a></li><li><a href="/step-by-step/nb-iot/03-design-profile-and-codec-plugin.html" class="sidebar-link">步骤3：在华为 IoT 开发者 Portal 上在线开发设备 Profile 和编解码插件</a></li><li><a href="/step-by-step/nb-iot/04-using-at-commands-connect-oceanconnect.html" class="sidebar-link">步骤4：利用 QCOM 串口工具，AT 指令实现数据上报到 OceanConnect IoT平台</a></li><li><a href="/step-by-step/nb-iot/05-fortify-embedded-app-working-on-device.html" class="sidebar-link">步骤5：增强嵌入式应用功能，实现 NB-IoT OneButton 按键功能开发</a></li><li><a href="/step-by-step/nb-iot/06-install-nodejs-and-mongodb-server.html" class="sidebar-link">步骤6：安装 Node.js，搭建一个带 MongoDB 数据库的简单 Web 服务器</a></li><li><a href="/step-by-step/nb-iot/07-build-a-restful-server-with-device-management.html" class="active sidebar-link">步骤7：设计后台 RESTful API 接口，服务绑定到 MongoDB 数据库</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/step-by-step/nb-iot/07-build-a-restful-server-with-device-management.html#_7-1developing-a-restful-web-server-and-define-the-web-api-for-front-end" class="sidebar-link">7.1	Developing a RESTful web server and define the web API for Front-end</a></li><li class="sidebar-sub-header"><a href="/step-by-step/nb-iot/07-build-a-restful-server-with-device-management.html#_7-2implementing-to-connect-mongodb-and-devices-routers-framework" class="sidebar-link">7.2	Implementing to connect MongoDB and devices routers framework</a></li></ul></li><li><a href="/step-by-step/nb-iot/08-design-backend-services-api-for-frontend-app.html" class="sidebar-link">步骤8：设计后台 Web 服务设备管理模块，实现设备增删改查功能</a></li><li><a href="/step-by-step/nb-iot/09-implement-full-web-application-development.html" class="sidebar-link">步骤9：对接 OceanConnect IoT平台，实现后台 Web 服务全功能</a></li><li><a href="/step-by-step/nb-iot/10-make-certification-subscribe-to-platform.html" class="sidebar-link">步骤10：自制 HTTPS/SSL 证书，实现平台数据订阅/发布功能</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>YiQi EVB 01/02 开发板</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>IoTClub M1 开发板</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>朱老师 NB476 开发板</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="步骤7：设计后台-restful-api-接口，服务绑定到-mongodb-数据库"><a href="#步骤7：设计后台-restful-api-接口，服务绑定到-mongodb-数据库" aria-hidden="true" class="header-anchor">#</a> 步骤7：设计后台 RESTful API 接口，服务绑定到 MongoDB 数据库</h1> <h2 id="_7-1developing-a-restful-web-server-and-define-the-web-api-for-front-end"><a href="#_7-1developing-a-restful-web-server-and-define-the-web-api-for-front-end" aria-hidden="true" class="header-anchor">#</a> 7.1	Developing a RESTful web server and define the web API for Front-end</h2> <p>After we installed all helpers, we could write the code now. At first, we must understand the progress of between IoT platform and Our Web server. Look at this sequence diagram.</p> <p><img src="/assets/img/webapp-flowchart.3b5d7273.png" alt></p> <p>Follow the diagram, we can get design the Restful API for Front-End app</p> <table><thead><tr><th>Methods</th> <th style="text-align:center">URL</th> <th style="text-align:right">Description</th></tr></thead> <tbody><tr><td>POST</td> <td style="text-align:center"><code>http://url/devices?nodeId=xx&amp;nodeName=xx</code></td> <td style="text-align:right">Create a new Device</td></tr> <tr><td>DELETE</td> <td style="text-align:center"><code>http://url/devices/:id</code></td> <td style="text-align:right">Delete a Device</td></tr> <tr><td>GET</td> <td style="text-align:center"><code>http://url/devices</code></td> <td style="text-align:right">Get all Devices</td></tr> <tr><td>POST</td> <td style="text-align:center"><code>http://url/devices/bind/:id</code></td> <td style="text-align:right">Bind a device to IoT platform</td></tr> <tr><td>DELETE</td> <td style="text-align:center"><code>http://url/devices/unbind/:id</code></td> <td style="text-align:right">Unbind a device to IoT platform</td></tr> <tr><td>GET</td> <td style="text-align:center"><code>http://url/devices/:id</code></td> <td style="text-align:right">Get a History data of the device</td></tr></tbody></table> <p>In order to implement the above API, we need access OpenAPIs of the Huawei IoT Platform, in next step we will learn how to use them.</p> <ul><li>Auth (Authentication) https://server:port/iocm/app/sec/v1.1.0/login</li> <li>Registering a Directly Connected Device https://server:port/iocm/app/reg/v1.2.0/devices?appId={appId}</li> <li>Querying the Activation Status of a Device https://server:port/iocm/app/reg/v1.1.0/devices/{deviceId}?appId={appId}</li> <li>Deleting a Directly Connected Device https://server:port/iocm/app/dm/v1.1.0/devices/{deviceId}?appId={appId}</li> <li>Modifying Device Information https://server:port/iocm/app/dm/v1.2.0/devices/{deviceId}?appId={appId}</li> <li>Querying Historical Device Data https://server:port/iocm/app/data/v1.1.0/deviceDataHistory?deviceId={deviceId}</li></ul> <h2 id="_7-2implementing-to-connect-mongodb-and-devices-routers-framework"><a href="#_7-2implementing-to-connect-mongodb-and-devices-routers-framework" aria-hidden="true" class="header-anchor">#</a> 7.2	Implementing to connect MongoDB and devices routers framework</h2> <ol><li>Install mongoose module which using visit MongoDB</li></ol> <p><img src="data:image/png;base64,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" alt></p> <p>Open package.json file, you can see mongoose has been auto-configuration.</p> <p><img src="/assets/img/nodejs-package-mongoose.029f050f.png" alt></p> <ol start="2"><li>Open the project and add device.js file in the routes directory</li></ol> <p><img src="/assets/img/nodejs-add-devices-route.7c9a24d5.png" alt></p> <ol start="3"><li>Add mongodb connect code and router code in the device.js</li></ol> <p><img src="/assets/img/nodejs-edit-devices-route.d033e877.png" alt></p> <ol start="4"><li>Add two lines code in the app.js which response for load devices router module.</li></ol> <p><img src="/assets/img/nodejs-app-insert-device-route.dc76dff0.png" alt></p> <ol start="5"><li>Run “npm start” in server directory, if you see “MongoDB connected success”, it means the server connect MongoDB is OK.</li></ol> <p><img src="data:image/png;base64,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" alt></p> <ol start="6"><li>Open Google Chrome and browse http://localhost:3000/devices</li></ol> <p><img src="/assets/img/nodejs-app-devices-page.bc8b7ce9.png" alt></p> <p>That it is. The web services is working.</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/LiteOS/LiteOS_Documents/edit/master/docs/step-by-step/nb-iot/07-build-a-restful-server-with-device-management.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">2018-7-30 14:19:48</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/step-by-step/nb-iot/06-install-nodejs-and-mongodb-server.html" class="prev">
          步骤6：安装 Node.js，搭建一个带 MongoDB 数据库的简单 Web 服务器
        </a></span> <span class="next"><a href="/step-by-step/nb-iot/08-design-backend-services-api-for-frontend-app.html">
          步骤8：设计后台 Web 服务设备管理模块，实现设备增删改查功能
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/125.1f3271e7.js" defer></script><script src="/assets/js/app.d2f7ed44.js" defer></script>
  </body>
</html>
